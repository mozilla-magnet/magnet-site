<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>{{ site.title }}</title>
    <base href="{{ page.baseurl }}">

    <!-- assets -->
    <link href='https://fonts.googleapis.com/css?family=Fira+Sans:300italic,300' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="css/main.css">

    <!-- full icon support (favicomatic.com) -->
    <link rel="apple-touch-icon-precomposed" sizes="57x57" href="images/icons/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="images/icons/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="images/icons/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="images/icons/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon-precomposed" sizes="60x60" href="images/icons/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="images/icons/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon-precomposed" sizes="76x76" href="images/icons/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="images/icons/apple-touch-icon-152x152.png">

    <link rel="icon" type="image/png" href="images/icons/favicon-32x32.png">

    <meta name="application-name" content="&nbsp;"/>
    <meta name="msapplication-TileColor" content="#f2f2f2">
    <meta name="msapplication-TileImage" content="images/icons/mstile-144x144.png">
    <meta name="msapplication-square70x70logo" content="images/icons/mstile-70x70.png">
    <meta name="msapplication-square150x150logo" content="images/icons/mstile-150x150.png">
    <meta name="msapplication-wide310x150logo" content="images/icons/mstile-310x150.png">
    <meta name="msapplication-square310x310logo" content="images/icons/mstile-310x310.png">

    <!-- social metadata  -->
    <meta name="og:image" content="images/promo-image.png">
    <meta name="og:title" content="{{ site.title }}">
    <meta name="og:title" content="{{ site.title }}">
    <meta name="twitter:url" content="page.url">
    <meta name="twitter:card" content="photo">
    <meta name="description" content="Experiments on the Physical Web">
    <meta name="og:description" content="Experiments on the Physical Web">
    <script>
      (function() {
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-81867483-1', 'auto');
        ga('send', 'pageview');

        // track clicks on elements with data-track attribute
        document.addEventListener('click', function(e) {
          var el = closest(e.target, 'a') || e.target;
          var shouldTrack = el.getAttribute('data-track');

          // only track [data-track] elements
          if (!shouldTrack) return;

          var label = el.getAttribute('data-track-label') || el.getAttribute('data-track')
          var category = el.getAttribute('data-track-category');
          var action = el.getAttribute('data-track-action');
          var value = el.getAttribute('data-track-value');
          var location = el.href;
          var timeout;

          // delay navigation until analytics sent
          if (location) {
            e.preventDefault();

            // fallback if GA `hitCallback` takes too long
            timeout = setTimeout(function() {
              window.location = location;
            }, 1000);
          }

          window.ga('send', {
            hitType: 'event',
            eventCategory: category || 'interaction',
            eventAction: action || 'click',
            eventLabel: label,
            eventValue: value || 0,
            hitCallback: function() {
              if (!location) return;
              clearTimeout(timeout);
              window.location = location;
            }
          });
        }, true);

        function closest(el, tag) {
          do {
            if (el.localName === tag) return el;
          } while (el = el.parentNode);
        }
      })();
    </script>
  </head>
  <body class="app">
    <header class="app-header border-bottom">
      <nav class="app-nav">
        <li><a href="">home</a></li>
        <li><a href="#mobile">mobile</a></li>
        <li><a href="#about">about</a></li>
        <li><a href="#contact">contact</a></li>
      </nav>
    </header>
    <div class="app-main">{{ content }}</div>
    <footer class="app-footer">
      &copy; {{ 'now' | date: "%Y" }} Mozilla | <a href="terms">terms of use</a> | <a href="privacy">privacy policy</a>
    </footer>
    <a class="github-ribbon" href="https://github.com/mozilla-magnet/magnet" data-track="link-github"></a>
  </body>
</html>
